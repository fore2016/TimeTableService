package com.yg.timetableservice.util;

import java.util.Calendar;

public class TimeUtil implements Comparable<TimeUtil> {
    private int hour;
    private int minute;
    private int second;
    public int getHour24() {
        return hour >= 24 ? hour - 24 : hour;
    }
    public int getMinute() {
        return minute;
    }
    public int getSecond() {
        return second;
    }
    public boolean ifNextDay() {
        return hour >= 24;
    }
    public TimeUtil(Calendar calendar) {
        Calendar currentTime = Calendar.getInstance();
        hour = calendar.get(Calendar.HOUR_OF_DAY);
        minute = calendar.get(Calendar.MINUTE);
        second = calendar.get(Calendar.SECOND);
        if (calendar.get(Calendar.DAY_OF_YEAR) > currentTime.get(Calendar.DAY_OF_YEAR)) {
            hour += 24;
        }
    }
    public TimeUtil(int hour, int minute, int second) {
        this.hour = hour;
        this.minute = minute;
        this.second = second;
    }
    public TimeUtil(String timeStr) {
        String[] time = timeStr.split(":");
        this.hour = Integer.parseInt(time[0]);
        this.minute = Integer.parseInt(time[1]);
        this.second = Integer.parseInt(time[2]);
    }
     public Calendar toCalendar() {
        Calendar result = Calendar.getInstance();
        result.set(Calendar.HOUR_OF_DAY, hour > 23 ? hour - 24 : hour);
        result.set(Calendar.MINUTE, minute);
        result.set(Calendar.SECOND, second);
        if (hour > 23)
            result.add(Calendar.DAY_OF_YEAR, 1);
        return result;
    }

    @Override
    public String toString() {
        return hour + ":" + minute + ":" + second;
    }

    @Override
    public int compareTo(TimeUtil other) {
        if (hour > other.hour) return 1;
        else if (hour < other.hour) return -1;
        else {
            if (minute > other.minute) return 1;
            else if (minute < other.minute) return -1;
            else {
                if (second > other.second) return 1;
                else if (second < other.second) return -1;
                else return 0;
            }
        }

    }

}
